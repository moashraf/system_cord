CKEDITOR.dialog.add("replaceTagNameDialog",function(a){return{title:"Change current elements tagName properties",minWidth:400,minHeight:200,contents:[{id:"tab-basic",label:"Basic Settings",elements:[{type:"text",id:"newTagName",label:"To this tagName",validate:CKEDITOR.dialog.validate.notEmpty("To this tagName cannot be empty.")}]},{id:"tab-adv",label:"Advanced Settings",elements:[{type:"text",id:"id",label:"Id"},{type:"text",id:"class",label:"Classes (seperate class name by space)"}]}],onOk:function(){newTagName=
this.getValueOf("tab-basic","newTagName");id=this.getValueOf("tab-adv","id");className=this.getValueOf("tab-adv","class");var b=a.document.createElement(newTagName);id&&b.setAttribute("id",id);className&&b.setAttribute("class",className);active=a.getSelection().getStartElement();activeHtml=a.getSelection().getStartElement().getHtml();b.setHtml(activeHtml);range=a.createRange();range.setStartAt(active,CKEDITOR.POSITION_BEFORE_START);range.collapse(!0);a.editable().insertElement(b,range);active.remove()},
onShow:function(){active=a.getSelection().getStartElement();console.log(active.$.tagName);this.setValueOf("tab-basic","newTagName",active.$.tagName)}}});